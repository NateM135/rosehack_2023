{% extends 'base.html' %} {% block content %}
<!DOCTYPE html>
<html>
  <head>
    <title>Profile Page</title>
    <h1>Choose a Cohort Leader!</h1>
    <script>
      function joinProfile(profileId) {
        console.log("inside joinprofile");
        const form = document.createElement("form");
        form.method = "post";
        var inputField = document.createElement("input");
        inputField.type = "text";
        inputField.name = "cohort_number";
        inputField.value = profileId;
        form.appendChild(inputField);
        //form.action = `/cohort/${profileId}`;
        form.action = "/cohorts";
        document.body.appendChild(form);
        form.submit();
      }
    </script>
    <style>
      /* Style for the profile sections */
      .profile {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        margin: 20px;
      }
      /* Style for the profile picture */
      .profile img {
        width: 150px;
        height: 150px;
        border-radius: 50%;
      }
      /* Style for the profile title */
      .profile h2 {
        margin-top: 10px;
        color: #333;
      }
      /* Style for the profile information */
      .profile p {
        margin-top: 10px;
        color: #555;
        text-align: center;
      }
      /* Style for the join button */
      .profile .join-button {
        margin-top: 10px;
        padding: 10px 20px;
        background-color: green;
        color: #fff;
        border-radius: 5px;
        text-align: center;
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    {% for cohort in cohorts %}
    <div class="profile">
      <img src="{{ cohort['leaderpicurl'] }}" alt="Profile Picture" />
      <h2>{{ cohort['leader'] }}</h2>
      <p>{{ cohort['descrip'] }}</p>
      <h2>Location</h2>
      <p>{{ cohort['place'] }}</p>
      <button class="join-button" onclick="joinProfile({{ cohort['id'] }})">
        Join
      </button>
    </div>
    {% endfor %}
  </body>
</html>

{% endblock %}
